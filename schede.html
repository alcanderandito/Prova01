<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Mitiche Schede del Due Mori</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Caveat:wght@700&display=swap');

        :root {
            --font-primary: 'Poppins', sans-serif;
            --font-headings: 'Caveat', cursive;
            
            --color-bg: #f0f2f5;
            --color-card-bg: #ffffff;
            --color-text: #333;
            --color-text-light: #555;
            --color-accent1: #ff6b6b; /* Rosso corallo */
            --color-accent2: #4ecdc4; /* Turchese */
            --color-shadow: rgba(0, 0, 0, 0.1);
            --color-border: #e0e0e0;
            --color-overlay: rgba(0, 0, 0, 0.7); /* Sfondo per il modal */

            --card-border-radius: 15px;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --card-hover-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
            padding-top: 80px; /* Spazio per il tasto Home fisso */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Tasto Home Fisso */
        .home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--color-accent1);
            color: white;
            padding: 10px 15px;
            border-radius: 50px; /* Pi√π arrotondato */
            text-decoration: none;
            font-weight: 600;
            z-index: 1001; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease, transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .home-button:hover {
            background-color: #e05252; /* Scurisce l'accento 1 */
            transform: translateY(-2px);
        }
        
        .home-button svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }


        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, var(--color-accent1), var(--color-accent2));
            color: white;
            border-radius: var(--card-border-radius);
            box-shadow: var(--card-shadow);
            width: 100%;
            max-width: 900px;
        }

        .page-header h1 {
            font-family: var(--font-headings);
            font-size: 3.5em;
            letter-spacing: 1px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .page-header p {
            font-size: 1.1em;
            margin-top: 10px;
            opacity: 0.9;
        }

        .staff-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            width: 100%;
            max-width: 1600px;
            padding: 10px;
        }

        .staff-card {
            background-color: var(--color-card-bg);
            border-radius: var(--card-border-radius);
            box-shadow: var(--card-shadow);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            transform-style: preserve-3d; 
            cursor: pointer; 
        }

        .staff-card:hover {
            box-shadow: var(--card-hover-shadow);
        }

        .card-image-container {
            position: relative;
            width: 100%;
            padding-top: 75%; 
            background-color: #eee;
        }

        .main-photo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-bottom: 1px solid var(--color-border);
            transition: transform 0.5s ease;
        }
        
        .staff-card:hover .main-photo {
             transform: scale(1.05);
        }

        .photo-thumbnails {
            display: flex;
            justify-content: center;
            padding: 8px;
            background-color: rgba(255, 255, 255, 0.8);
            position: absolute;
            bottom: 0;
            width: 100%;
            gap: 5px;
            flex-wrap: wrap;
            max-height: 60px; 
            overflow-y: auto; 
        }

        .thumbnail {
            width: 40px; 
            height: 40px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .thumbnail:hover, .thumbnail.active {
            border-color: var(--color-accent1);
            transform: scale(1.1);
        }

        .card-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .card-content-summary { 
            max-height: 100px; 
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
        }
        .card-content-summary::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 70%;
            height: 1.6em; 
            background: linear-gradient(to right, transparent, var(--color-card-bg) 50%);
        }


        .card-content h2 {
            font-family: var(--font-headings);
            font-size: 2.2em; 
            color: var(--color-accent1);
            margin-bottom: 10px;
            text-align: center;
        }

        .description {
            font-size: 0.9em;
            color: var(--color-text-light);
            margin-bottom: 15px;
            text-align: justify;
            font-style: italic;
        }

        .details {
            font-size: 0.85em;
        }

        .details p {
            margin-bottom: 6px;
            color: #444;
            border-left: 3px solid var(--color-accent2);
            padding-left: 8px;
            background-color: #f9f9f9;
            border-radius: 0 5px 5px 0;
        }
        
        .details p strong {
            color: var(--color-text);
            margin-right: 5px;
        }
        
        .details .icon {
            margin-right: 6px;
            color: var(--color-accent2);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-overlay);
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--color-card-bg);
            padding: 30px;
            border-radius: var(--card-border-radius);
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 2em;
            color: var(--color-text-light);
            cursor: pointer;
            line-height: 1;
        }
        .modal-close-button:hover {
            color: var(--color-accent1);
        }

        .modal-image-container {
            width: 100%;
            max-height: 400px; 
            margin-bottom: 20px;
            text-align: center; 
        }

        .modal-main-photo {
            max-width: 100%;
            max-height: 350px; 
            height: auto;
            object-fit: contain; 
            border-radius: 10px;
            margin-bottom: 10px; 
        }
        
        .modal-photo-thumbnails {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        .modal-thumbnail {
             width: 60px;
             height: 60px;
             object-fit: cover;
             border-radius: 5px;
             cursor: pointer;
             border: 2px solid var(--color-border);
             transition: border-color 0.3s ease, transform 0.3s ease;
        }
        .modal-thumbnail:hover, .modal-thumbnail.active {
            border-color: var(--color-accent1);
            transform: scale(1.05);
        }


        .modal-content h2 {
            font-family: var(--font-headings);
            font-size: 3em;
            color: var(--color-accent1);
            margin-bottom: 15px;
            text-align: center;
        }
        .modal-content .description {
            font-size: 1em;
            margin-bottom: 25px;
        }
        .modal-content .details p {
            font-size: 0.95em;
            padding: 10px;
            margin-bottom: 10px;
        }


        .page-footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            font-size: 0.9em;
            color: #777;
        }

        @keyframes fadeInCard {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .staff-card {
            animation: fadeInCard 0.5s ease-out forwards;
            opacity: 0;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body { padding-top: 70px; } 
            .home-button { padding: 8px 12px; font-size: 0.9em; }
            .home-button svg { width: 18px; height: 18px; }

            .page-header h1 { font-size: 2.5em; }
            .staff-grid { grid-template-columns: 1fr; gap: 20px; }
            .card-content h2 { font-size: 2em; }
            
            .modal-content { width: 95%; padding: 20px; }
            .modal-content h2 { font-size: 2.2em; }
            .modal-main-photo { max-height: 250px; }
            .modal-thumbnail { width: 50px; height: 50px; }
        }
         @media (max-width: 480px) {
            .page-header h1 { font-size: 2em; }
            .card-image-container { padding-top: 100%; }
            .thumbnail { width: 35px; height: 35px; }
            .photo-thumbnails { padding: 5px; max-height: 50px;}

            .modal-content { padding: 15px; }
            .modal-content h2 { font-size: 1.8em; }
            .modal-main-photo { max-height: 200px; }
            .modal-thumbnail { width: 40px; height: 40px; }
            .modal-close-button { top:10px; right: 10px; font-size: 1.5em;}
        }

    </style>
</head>
<body>
    <a href="index.html" class="home-button" title="Torna alla Home">
        <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        <span>Home</span>
    </a>

    <header class="page-header">
        <h1>Lo Staff Stellare del Due Mori</h1>
        <p>Personaggi mitici, abilit√† leggendarie e un pizzico di magia!</p>
    </header>

    <main class="staff-grid">
        <!-- Le schede verranno inserite qui dal JavaScript -->
    </main>

    <!-- Modal Structure (nascosto di default) -->
    <div class="modal-overlay" id="staffModal">
        <div class="modal-content">
            <button class="modal-close-button" id="modalCloseButton">√ó</button>
            <div class="modal-image-container">
                <img src="" alt="Foto del membro dello staff" class="modal-main-photo" id="modalMainPhoto">
                <div class="modal-photo-thumbnails" id="modalPhotoThumbnails">
                    <!-- Miniature per il modal verranno inserite qui -->
                </div>
            </div>
            <h2 id="modalName"></h2>
            <p class="description" id="modalDescription"></p>
            <div class="details" id="modalDetails">
                <!-- Dettagli verranno inseriti qui -->
            </div>
        </div>
    </div>
    
    <footer class="page-footer">
        <p>¬© 2024 Le Schede Mitiche del Due Mori - Creazione magica</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>
    <script>
        const staffData = [
             {
                id: "fabio",
                nome: "Don Fabio",
                foto: ["fabio.PNG", "fabio1.PNG", "fabio2.PNG", "fabio3.PNG", "fabio4.PNG", "fabio5.PNG", "fabio6.PNG"],
                descrizione: "Fondatore del Due Mori e proprietario, ora in pensione. Ha un carattere deciso, diretto e affilato come una mandolina, ma quando vuole sa essere dolce come una pera matura. Saggio, furbo e con uno sguardo che dice ‚Äúso gi√† cosa hai sbagliato‚Äù.",
                altezza: "Circa 3 m",
                mansione: "Controllo generale, cameriere, figura protettiva",
                velocita: "Rapido e forte come un cinghiale (parte piano ma quando parte‚Ä¶ scansa tutto)",
                piatto_preferito: "Pane e marmellata ‚Äì colazione mistica certificata UNESCO",
                fetish: "Far dimagrire tutti (mentalmente, fisicamente, anche solo con una battuta)",
                debolezza: "Il disordine e la pigrizia lo fanno esplodere",
                pazienza: "Bassa (quasi zero ‚Äì ma non completamente nulla)",
                paese_preferito: "Italia"
            },
            {
                id: "lucia",
                nome: "Lucia",
                foto: ["lucia.PNG", "lucia1.PNG", "lucia2.PNG", "lucia3.PNG"],
                descrizione: "Regina gentile del Due Mori e compagna storica di Don Fabio, Lucia √® l‚Äôincarnazione della dolcezza armata. Dietro il suo sorriso tenero si nasconde una forza invincibile e una resistenza emotiva da carro armato corazzato. √à quella che ti d√† una carezza, un consiglio, un regalo‚Ä¶ e pure una sgridata con tono soave se serve.",
                altezza: "Circa 1.66 m",
                mansione: "Cameriera d‚Äôonore, dispensatrice ufficiale di amore, coccole e saggezza. La mamma che tutti vorrebbero, anche se non sei parente.",
                velocita: "Tartaruga zen ‚Äì si muove con calma e grazia, ma con l‚Äôeleganza di una leggenda vivente",
                colore_preferito: "Da definire", // Campo specifico per Lucia
                piatto_preferito: "Tutto",
                fetish: "Fare regalini ai figli (qualsiasi occasione √® buona per portare qualcosa a qualcuno)",
                debolezza: "NESSUNA. √à un carro armato sorridente. Un Panzer di bont√†.",
                pazienza: "Eterna ‚Äì potrebbe ascoltare il rumore dell‚Äôuniverso senza perdere la calma",
                paese_preferito: "Italia"
            },
            {
                id: "martina",
                nome: "Martina",
                foto: ["martina.PNG"],
                descrizione: "Capitano inarrestabile della sala, Martina √® una vecchia volpe di battaglia: sa dove guardare, cosa dire e soprattutto‚Ä¶ come far quadrare i conti al centesimo. √à astuta, rapida nel calcolo, e capace di smontarti con uno sguardo se stai perdendo tempo. Una mente brillante in un corpo sempre in movimento, che tra un piatto e l‚Äôaltro ti pianifica le vacanze al miglior prezzo dell‚Äôuniverso.",
                altezza: "Circa 1.72 m",
                mansione: "Cameriera, cassiera, contabile suprema del Due Mori",
                velocita: "Lepre meticolosa ‚Äì si muove con ritmo costante e cervello in turbo",
                piatto_preferito: "Tutto ci√≤ che si pu√≤ innaffiare di salsa ‚Äì la regina del condimento",
                fetish: "Scovare le offerte online migliori del globo: voli, hotel, viaggi‚Ä¶ se c‚Äô√® un coupon, lei lo trova prima che venga creato",
                debolezza: "Ancora da scoprire (forse non esiste‚Ä¶ forse √® segreta‚Ä¶ forse √® dietro la porta della dispensa)",
                pazienza: "Bassa ma tattica ‚Äì ne ha poca, ma la sa usare come un‚Äôarma da ninja",
                paese_preferito: "Giappone"
            },
            {
                id: "roberta",
                nome: "Roberta",
                foto: ["roberta.PNG"],
                descrizione: "L‚Äôincarnazione di Lucia‚Ä¶ ma potenziata. Se Lucia √® un carro armato, Roberta √® un mecha giapponese alimentato a senso del dovere. √à incaricata di controllare le allergie dei clienti con la precisione di un farmacista ninja e di mantenere il locale in uno stato talmente perfetto da far piangere gli ispettori ASL dalla commozione. Nessun granello di polvere sopravvive sotto il suo sguardo. Nessuna tovaglia √® piegata male.",
                altezza: "Circa 1.70 m",
                mansione: "Supervisione totale della sala, responsabile delle allergie, protettrice del locale e del suo onore",
                velocita: "Ultra Sonica Celestiale ‚Äì quando serve √® ovunque e da nessuna parte allo stesso tempo",
                piatto_preferito: "Riso in bianco (semplice ma sacro)",
                fetish: "Dire ad Alejandro di mangiare meno zucchero‚Ä¶ mentre si mangia un gelato con tre gusti e panna extra (con sguardo innocente)",
                debolezza: "Ogni tanto l‚Äôansia le fa un check-in non richiesto, ma se la combatte con grinta e precisione",
                pazienza: "Divina con scadenza improvvisa ‚Äì se si esaurisce‚Ä¶ evacuare l‚Äôedificio",
                paese_preferito: "Giappone"
            },
            {
                id: "marzio",
                nome: "Marzio",
                foto: ["marzio.PNG"],
                descrizione: "L‚Äôangelo dietro le quinte? Ma non solo. Marzio √® il volto, il braccio, e il cervello operativo del Due Mori. √à il primo che vedi quando entri, il responsabile del rapporto col pubblico, il motivatore della squadra e il diplomatico che tratta con i fornitori come un boss della logistica spirituale. Sempre presente, sempre attivo, sempre concentrato.",
                altezza: "Circa 1.80 m",
                mansione: "Cameriere di punta, gestore della squadra, responsabile dei rapporti con fornitori e contabile delle pratiche invisibili ma vitali.",
                velocita: "Luce liquida ‚Äì se ti distrai, l‚Äôhai gi√† perso di vista",
                piatto_preferito: "Tortellini con rag√π alla bolognese ‚Äì e se non sono fatti bene, chiama direttamente il sindaco",
                fetish: "Seguire ossessivamente la dieta per entrare in una forma che ha gi√† raggiunto da mesi ‚Äì perfezione come filosofia di vita",
                debolezza: "Bambini down e cani.",
                pazienza: "Media, ma se si esaurisce‚Ä¶ chiama il Vescovo e prepara l‚Äôestrema unzione.",
                paese_preferito: "Italia"
            },
            {
                id: "hamza",
                nome: "Hamza",
                foto: ["hamza.PNG"],
                descrizione: "Proveniente dal cuore del Pakistan, Hamza √® arrivato a Trento a piedi, in equilibrio tra sogno e fatica, determinato a costruirsi un futuro. √à il lavapiatti pi√π efficiente dell‚Äôuniverso conosciuto, una leggenda viva che combatte quotidianamente contro i piatti incrostati‚Ä¶ e vince sempre. Ma non solo: sa preparare antipasti da far commuovere, e per Don Fabio √® pi√π affidabile di un Rolex svizzero. √à il coccolo ufficiale di Lucia, che lo tratta come un figlio adottivo del ristorante.",
                altezza: "Circa 1.80 m",
                mansione: "Lavapiatti eccellente, maestro di antipasti, braccio destro segreto del regno Due Mori",
                velocita: "Adattiva ‚Äì parte lento, accelera se serve, e se c‚Äô√® un‚Äôemergenza diventa il Flash delle stoviglie",
                piatto_preferito: "Spezie ‚Äì non un piatto, ma uno stile di vita. Se non pizzica, non √® buono.",
                fetish: "Lavorare al Due Mori ‚Äì lo rende felice, fiero, e carico come un treno merci",
                debolezza: "Sta cercando di imparare l‚Äôitaliano, ma per ora comunica con gesti, sorrisi e anima",
                pazienza: "LUI √à LA PAZIENZA. Potresti urlargli addosso e lui ti offrirebbe il t√®",
                paese_preferito: "Pakistan"
            },
            {
                id: "max",
                nome: "Max",
                foto: ["max.PNG"],
                descrizione: "Max √® il collega perfetto: discreto ma presente, rapido ma riflessivo, serio ma con il sorriso pronto. √à il tipo che non parla tanto, ma quando lo fa ti sorprende con battute geniali o riflessioni profonde. Sempre elegante nel modo di muoversi, pronto ad aiutare chiunque senza fare rumore. Un pilastro silenzioso del ristorante, un ninja della sala.",
                altezza: "Circa 1.75 m",
                mansione: "Cameriere, punto di riferimento operativo, supporto alla squadra e figura chiave nel servizio quotidiano",
                velocita: "Vento silenzioso ‚Äì si muove rapido ma con grazia, come se la fisica non lo toccasse",
                piatto_preferito: "Dolci ‚Äì ogni occasione √® buona per premiarsi con qualcosa di zuccheroso",
                fetish: "Essere impeccabile in tutto ci√≤ che fa ‚Äì postura, tempismo, sguardo, camminata‚Ä¶ una sinfonia in movimento",
                debolezza: "Alfred. Nessun altro essere vivente riesce a farlo innervosire con tanta grazia.",
                pazienza: "Media con autocontrollo ninja ‚Äì non esplode mai, ma quando gira gli occhi‚Ä¶ scappa.",
                paese_preferito: "Corea"
            },
            {
                id: "claudia",
                nome: "Claudia",
                foto: ["claudia.PNG"],
                descrizione: "Claudia √® la veterana del Due Mori, la pi√π longeva, la pi√π esperta, la spalla che non cade mai, nemmeno sotto 200 coperti e 3 tavoli che vogliono pagare separatamente. Un‚Äôicona autentica, amata e rispettata da tutti, con una simpatia travolgente che si trasforma in terrore sacro se qualcuno osa oltrepassare il limite. √à affidabile come un orologio svizzero e temibile come un tuono in sala‚Ä¶",
                altezza: "Circa 1.66 m",
                mansione: "Cameriera storica, guida morale del ristorante, regina dell‚Äôesperienza",
                velocita: "Lenta-Media Strategica ‚Äì nessuna fretta, solo precisione calcolata",
                piatto_preferito: "Mangiare con la squadra alla domenica ‚Äì il vero sapore √® la compagnia",
                fetish: "Vincere sempre la raccolta delle uova di Pasqua al Due Mori ‚Äì √® imbattuta, leggendaria, e guai a chi osa sfidarla",
                debolezza: "Trattenersi quando un cliente √® stupido ‚Äì il suo autocontrollo √® materia di studio alla NASA",
                pazienza: "Apparente ‚Äì sembra calma, ma √® come un vulcano sotto controllo‚Ä¶ finch√© non esplode",
                paese_preferito: "Spagna"
            },
            {
                id: "gioele",
                nome: "Gioele",
                foto: ["gioele.PNG"],
                descrizione: "Il cuoco pi√π giovane e pi√π pazzo del Due Mori, √® chiamato a lavorare solo il weekend. Dolce come i dessert che fa, veloce come un fulmine e affamato come cinque camionisti. Simpatico, impulsivo e pieno d‚Äôidee.",
                altezza: "Circa 1.70 m",
                mansione: "Cuoco con contratto a chiamata creativo, maestro di dolci, mente esplosiva della cucina.",
                velocita: "Fa accendere la luce solo passandoci vicino",
                piatto_preferito: "Pizza‚Ä¶ ma in realt√† mangia tutto. Sempre.",
                fetish: "Guidare macchine leggendarie",
                debolezza: "Stare fermo. Riposarsi lo distrugge dentro.",
                pazienza: "Media, ma con esplosioni casuali",
                paese_preferito: "Il mondo"
            },
            {
                id: "reby",
                nome: "Reby",
                foto: ["reby.PNG"],
                descrizione: "Il suo sorriso inganna: dietro c‚Äô√® una macchina da guerra. Simpatica s√¨, ma quando si muove, non sbaglia un colpo. Decisa, svelta e sveglia. Se c‚Äô√® caos, lei ci si butta dentro.",
                altezza: "Circa 1.72 m",
                mansione: "Cameriera junior, comandante dei gruppi grossi e degli orari impossibili",
                velocita: "Ghepardo in scarpe da lavoro",
                piatto_preferito: "Il piatto svizzero della nonna, scaloppine con salsa e pasta in bianco",
                fetish: "Servire pi√π di 100 persone senza battere ciglio",
                debolezza: "L‚Äôaspirapolvere ‚Äì nemico acustico numero uno",
                pazienza: "Alta, ma non sfidarla",
                paese_preferito: "Islanda"
            },
            {
                id: "tibi",
                nome: "Tiberius/Tibi",
                foto: ["tibi.PNG"],
                descrizione: "Sempre educato, sempre sorridente, ma con la forza di un trattore in corsa. Lavora duro, alza pesi, mangia per tre, e fa impazzire di gioia Claudia e Lucia.",
                altezza: "Circa 1.80 m",
                mansione: "Cameriere e forza bruta del Due Mori",
                velocita: "Al trotto, ma costante",
                piatto_preferito: "L‚Äôosso buco della mamma",
                fetish: "Alzare vassoi sempre pi√π pesanti ‚Äì sfida continua con se stesso",
                debolezza: "Spazzare‚Ä¶ ci mette una vita",
                pazienza: "Positiva e tranquilla, ma con limiti umani",
                paese_preferito: "Italia"
            },
            {
                id: "ricky",
                nome: "Ricky",
                foto: ["ricky.PNG"],
                descrizione: "Ironico, gentilissimo, e pi√π veloce della luce. Serve i tavoli con un sorriso e una battuta pronta, mentre balla salsa tra un ordine e l‚Äôaltro.",
                altezza: "Circa 1.75 m",
                mansione: "Cameriere razzo, amato da tutti, anima brillante della sala",
                velocita: "Talmente rapido che sembra fermare il tempo",
                piatto_preferito: "Il bollito (con carne, cipolle, carote, patate etc ...)",
                fetish: "Twerkare e ballare salsa mentre prende le comande",
                debolezza: "Odia elencare i dolci in inglese ‚Äì non se li ricorda mai",
                pazienza: "Molta, pure con i clienti pi√π assurdi",
                paese_preferito: "Slovenia Lubiana"
            }
        ];

        const staffGrid = document.querySelector('.staff-grid');
        const modalOverlay = document.getElementById('staffModal');
        const modalCloseButton = document.getElementById('modalCloseButton');
        const modalMainPhoto = document.getElementById('modalMainPhoto');
        const modalPhotoThumbnailsContainer = document.getElementById('modalPhotoThumbnails');
        const modalName = document.getElementById('modalName');
        const modalDescription = document.getElementById('modalDescription');
        const modalDetailsContainer = document.getElementById('modalDetails');

        staffData.forEach((member, index) => {
            const card = document.createElement('article');
            card.classList.add('staff-card');
            card.setAttribute('data-tilt', ''); 
            card.style.animationDelay = `${index * 0.05}s`;
            card.setAttribute('data-member-id', member.id); 

            let photoThumbnailsHTML = '';
            if (member.foto.length > 1) {
                member.foto.forEach((fotoUrl, idx) => {
                    photoThumbnailsHTML += `<img src="${fotoUrl}" alt="Miniatura di ${member.nome} ${idx + 1}" class="thumbnail ${idx === 0 ? 'active' : ''}" data-card-id="${member.id}" data-img-src="${fotoUrl}" onclick="event.stopPropagation(); switchCardImage(this, '${member.id}', '${fotoUrl}');">`;
                });
            }
            
            let colorePreferitoHTML = '';
            if (member.nome === "Lucia" && member.colore_preferito) {
                colorePreferitoHTML = `<p><span class="icon">üé®</span><strong>Colore Preferito:</strong> ${member.colore_preferito}</p>`;
            }

            // Tronca mansione per la card, usa un'ellissi se troppo lunga
            let mansioneCard = member.mansione;
            if (mansioneCard.length > 60) { // Lunghezza massima per la card prima di troncare
                mansioneCard = mansioneCard.substring(0, 57) + "...";
            }

            card.innerHTML = `
                <div class="card-image-container">
                    <img src="${member.foto[0]}" alt="Foto di ${member.nome}" class="main-photo" id="main-photo-${member.id}">
                    ${member.foto.length > 1 ? `<div class="photo-thumbnails">${photoThumbnailsHTML}</div>` : ''}
                </div>
                <div class="card-content">
                    <h2>${member.nome}</h2>
                    <div class="description card-content-summary">${member.descrizione}</div>
                    <div class="details">
                        <p><span class="icon">üìè</span><strong>Altezza:</strong> ${member.altezza}</p>
                        <p><span class="icon">üíº</span><strong>Mansione:</strong> ${mansioneCard}</p>
                    </div>
                </div>
            `;
            staffGrid.appendChild(card);

            card.addEventListener('click', () => openModal(member.id));
        });
        
        window.switchCardImage = function(thumbElement, cardId, newSrc) {
            const mainPhoto = document.getElementById(`main-photo-${cardId}`);
            if (mainPhoto) {
                mainPhoto.src = newSrc;
            }
            document.querySelectorAll(`.thumbnail[data-card-id="${cardId}"]`).forEach(t => t.classList.remove('active'));
            thumbElement.classList.add('active');
        }

        VanillaTilt.init(document.querySelectorAll(".staff-card"), {
            max: 10, 
            speed: 300,
            glare: true,
            "max-glare": 0.1
        });

        function openModal(memberId) {
            const member = staffData.find(m => m.id === memberId);
            if (!member) return;

            modalMainPhoto.src = member.foto[0];
            modalMainPhoto.alt = `Foto di ${member.nome}`;
            
            modalPhotoThumbnailsContainer.innerHTML = ''; 
            if (member.foto.length > 1) {
                member.foto.forEach((fotoUrl, idx) => {
                    const thumb = document.createElement('img');
                    thumb.src = fotoUrl;
                    thumb.alt = `Miniatura di ${member.nome} ${idx + 1}`;
                    thumb.classList.add('modal-thumbnail');
                    if (idx === 0) thumb.classList.add('active');
                    thumb.addEventListener('click', () => {
                        modalMainPhoto.src = fotoUrl;
                        document.querySelectorAll('#modalPhotoThumbnails .modal-thumbnail.active').forEach(t => t.classList.remove('active'));
                        thumb.classList.add('active');
                    });
                    modalPhotoThumbnailsContainer.appendChild(thumb);
                });
                modalPhotoThumbnailsContainer.style.display = 'flex';
            } else {
                modalPhotoThumbnailsContainer.style.display = 'none';
            }

            modalName.textContent = member.nome;
            modalDescription.textContent = member.descrizione;

            let detailsHTML = `
                <p><span class="icon">üìè</span><strong>Altezza:</strong> ${member.altezza}</p>
                <p><span class="icon">üíº</span><strong>Mansione:</strong> ${member.mansione}</p>
                <p><span class="icon">‚ö°Ô∏è</span><strong>Velocit√†:</strong> ${member.velocita}</p>
                <p><span class="icon">üç≤</span><strong>Piatto Preferito:</strong> ${member.piatto_preferito}</p>
            `;
            if (member.nome === "Lucia" && member.colore_preferito) {
                detailsHTML += `<p><span class="icon">üé®</span><strong>Colore Preferito:</strong> ${member.colore_preferito}</p>`;
            }
            detailsHTML += `
                <p><span class="icon">‚ú®</span><strong>Fetish:</strong> ${member.fetish}</p>
                <p><span class="icon">üíî</span><strong>Debolezza:</strong> ${member.debolezza}</p>
                <p><span class="icon">‚è≥</span><strong>Pazienza:</strong> ${member.pazienza}</p>
                <p><span class="icon">üåç</span><strong>Paese Preferito:</strong> ${member.paese_preferito}</p>
            `;
            modalDetailsContainer.innerHTML = detailsHTML;

            modalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            document.body.style.overflow = ''; 
        }

        modalCloseButton.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', (event) => {
            if (event.target === modalOverlay) { 
                closeModal();
            }
        });
        
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && modalOverlay.classList.contains('active')) {
                closeModal();
            }
        });

        document.querySelector('.home-button').addEventListener('click', (e) => {
            if (modalOverlay.classList.contains('active')) {
                closeModal(); 
            }
            // La navigazione a index.html avverr√† tramite il comportamento default del link <a>
        });

    </script>
</body>
</html>
